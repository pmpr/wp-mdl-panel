/*! For license information please see asset_js_view_component_input_OTP_vue.3BkMgRNOJ.js.LICENSE.txt */
"use strict";(self.webpackChunkpmpr_wp_mdl_panel=self.webpackChunkpmpr_wp_mdl_panel||[]).push([["asset_js_view_component_input_OTP_vue"],{7599:function(t,e,n){n.r(e),n.d(e,{default:function(){return u}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("PanelInput",t._b({scopedSlots:t._u([{key:"input",fn:function(e){var i=e.attrs;e.ref;return[n("div",{staticClass:"d-flex flex-row-reverse justify-content-center"},t._l(t.count,(function(e){return"checkbox"===t.prepareAttrs(e,i).type?n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.digits[e-1],expression:"digits[index - 1]"}],key:e,attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.digits[e-1])?t._i(t.digits[e-1],null)>-1:t.digits[e-1]},on:{input:function(n){return t.onInput(e,n)},keyup:function(n){return t.onKeyup(e,n)},paste:function(n){return t.onPaste(e-1,n)},change:function(n){var i=t.digits[e-1],r=n.target,s=!!r.checked;if(Array.isArray(i)){var u=t._i(i,null);r.checked?u<0&&t.$set(t.digits,e-1,i.concat([null])):u>-1&&t.$set(t.digits,e-1,i.slice(0,u).concat(i.slice(u+1)))}else t.$set(t.digits,e-1,s)}}},"input",t.prepareAttrs(e,i),!1)):"radio"===t.prepareAttrs(e,i).type?n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.digits[e-1],expression:"digits[index - 1]"}],key:e,attrs:{type:"radio"},domProps:{checked:t._q(t.digits[e-1],null)},on:{input:function(n){return t.onInput(e,n)},keyup:function(n){return t.onKeyup(e,n)},paste:function(n){return t.onPaste(e-1,n)},change:function(n){return t.$set(t.digits,e-1,null)}}},"input",t.prepareAttrs(e,i),!1)):n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.digits[e-1],expression:"digits[index - 1]"}],key:e,attrs:{type:t.prepareAttrs(e,i).type},domProps:{value:t.digits[e-1]},on:{input:[function(n){n.target.composing||t.$set(t.digits,e-1,n.target.value)},function(n){return t.onInput(e,n)}],keyup:function(n){return t.onKeyup(e,n)},paste:function(n){return t.onPaste(e-1,n)}}},"input",t.prepareAttrs(e,i),!1))})),0)]}},t.hasSlot("description")?{key:"description",fn:function(){return[t._t("description")]},proxy:!0}:null],null,!0)},"PanelInput",t.props,!1))};i._withStripped=!0;const r=PRHelper.getHTML();var s={name:"PanelOTPInput",props:{props:{},count:{type:Number,required:!0}},data(){return{digits:Array(this.count).fill("")}},beforeMount(){void 0!==this.props.value&&(this.digits=this.props.value?.split(""))},computed:{isValid(){return this.digits.length===this.count}},methods:{prepareAttrs(t,e){let n=new Set(e.class.split(" "));return n.add("p-2"),n.add("border-2"),n.add("otp-input"),n.add("text-center"),n.add("font-weight-bold"),e.class=Array.from(n).join(" "),e.maxlength=1,e.autofocus=!0,e.id=this.generateID(t),e.ref=this.generateID(t),e.name=this.generateID(t),e},generateID(t){return`${this.props.ref}[${t}]`},getElement(t){return this.$refs[this.generateID(t)]},focusNext(t){const e=this.getElement(t+1);return r.isElement(e)&&(e?.focus(),e?.select()),e},focusPrev(t){if(t>0){const e=this.getElement(t-1);return r.isElement(e)&&(e?.focus(),e?.select()),e}return!1},changed(t){""===this.digits[t-1]?this.focusPrev(t):this.focusNext(t),this.$emit("input",this.digits?.join(""))},getDigitValue(t){switch(typeof t){case"string":return t;case"number":return t?.toString();default:return t?.data?t?.data:""}},onKeyup(t,e){const n=this.getElement(t),i=this.getDigitValue(r.getValue(n)),s=parseInt(e.keyCode||e.charCode);""===i&&(8===s||46===s)||37===s?this.focusPrev(t):39===s&&this.focusNext(t)},onInput(t,e){this.digits[t-1]=this.getDigitValue(e),this.changed(t)},onPaste(t,e){e.preventDefault();const n=e?.clipboardData||window?.clipboardData;if(n){const e=n.getData("text").trim().replace(/\D/g,"");let i=Array(this.count).fill("");for(let n=0;n<e.length;n++)t+n<i.length&&(i[t+n]=e[n]);this.digits=i,this.changed(i.length-1)}}}},u=(0,n(9792).Z)(s,i,[],!1,null,null,null).exports}}]);