/*! For license information please see asset_js_view_component_Form_vue.dUfsWFR_D.js.LICENSE.txt */
(self.webpackChunkpmpr_wp_pkg_panel=self.webpackChunkpmpr_wp_pkg_panel||[]).push([["asset_js_view_component_Form_vue"],{2202:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.hasField?n(e.tag,{tag:"component",attrs:{id:e.id}},[e._l(e.fields,(function(t,i){return[e._t("before-field-row",null,{field:t}),e._v(" "),e.is(t,"Header")?[n("PanelHeaderInput",{key:i,attrs:{title:t.title,tag:"h5",inline:e.inline,classes:"mb-5"}})]:e.is(t,"File")?[n("PanelFileInput",{key:i,attrs:{props:e.prepareProps(t,"file")},on:{input:function(n){return e.onInputChange(n,t.id)}}})]:e.is(t,"Text")?[n("PanelTextInput",{key:i,attrs:{props:e.prepareProps(t),mask:t.mask,options:t.mask_options},on:{input:function(n){return e.onInputChange(n,t.id)}},scopedSlots:e._u([e.isRTL(t)&&t.icon?{key:"append",fn:function(){return[n("PanelIcon",{attrs:{icon:t.icon}})]},proxy:!0}:t.icon?{key:"preapend",fn:function(){return[n("PanelIcon",{attrs:{icon:t.icon}})]},proxy:!0}:null],null,!0)})]:e.is(t,"Radio")?[n("PanelRadioInput",{key:i,attrs:{props:e.prepareProps(t),options:e.prepareOptions(t.options)},on:{input:function(n){return e.onInputChange(n,t.id)}}})]:e.is(t,"Avatar")?[n("PanelAvatarInput",{key:i,attrs:{props:e.prepareProps(t)},on:{input:function(n){return e.onInputChange(n,t.id)}}})]:e.is(t,"TreeSelect")?[n("PanelTreeSelectInput",{key:i,attrs:{props:e.prepareProps(t),options:t.options,multiple:t.multiple,variations:t.variations},on:{input:function(n){return e.onInputChange(n,t.id)}},scopedSlots:e._u([e.hasSlot("after-field")?{key:"after-field",fn:function(t){var n=t.field;return[e._t("after-field",null,{field:n})]}}:null],null,!0)})]:e.is(t,"Datepicker")?[n("PanelDatepickerInput",{key:i,attrs:{props:e.prepareProps(t)},on:{input:function(n){return e.onInputChange(n,t.id)}}})]:e._e(),e._v(" "),e._t("after-field-row",null,{field:t})]}))],2):n("PanelSpinner")};i._withStripped=!0;var r={name:"PanelForm",data:()=>({hide:{},values:{},ignores:{},rendered:!1}),props:{id:{type:String,default:"fields-container"},tag:{type:String,default:"div"},data:{type:[Object,Array],default:function(){return[]}},fields:{type:[Object,Array],default:function(){return[]}},inline:{type:[Object,Boolean],default:function(){return{xxl:"2"}}},groupClass:{type:String,default:""},size:{type:String,default:"lg"},solid:{type:Boolean,default:!0},labelAlign:{type:[String,Boolean],default:"right"},labelClass:{type:String,default:""},offset:{type:[Number,String],default:3}},beforeMount(){this.hasField&&this.$helper.$each(this.fields,(e=>{this.$helper.$isEmpty(e.ignorable)||(this.ignores[e.id]=e.ignorable)})),this.prepareIgnoreFields()},mounted(){this.$hook.on("form:reset",(e=>{this.values=e,this.prepareIgnoreFields()}))},beforeDestroy(){this.$hook.off("form:",!0)},computed:{hasField(){return!this.$helper.$isEmpty(this.fields)}},methods:{prepareIgnoreFields(){this.ignores&&(this.$helper.$each(this.ignores,((e,t)=>{let n=this.values[t]??this.data[t];this.$helper.$each(e,((e,t)=>{let i=!1;n!=t&&(i=!0),this.hide[e]!==i&&(this.hide[e]=i,this.rendered=!1)}))})),this.rendered||this.$forceUpdate())},prepareOptions(e){let t=[];return this.$helper.$each(e,((e,n)=>{t.push({text:e,value:n})})),t},prepareProps(e,t=null){let n=e.id,i={ignore:!this.$helper.$isEmpty(this.hide[n])&&this.hide[n],ref:n,size:this.size,labelAlign:this.labelAlign,inline:this.inline,groupClass:this.groupClass,attrs:e.attributes,solid:this.solid,label:{text:e.label,attrs:e.label_attrs},offset:this.offset,name:n},{element:r,options:s,variations:l,attributes:a,convert_keys:o,convert_options:p,...u}=e;i={...u,...i};let h=this.getValue(e);return"file"===t?i.file=h:i.value=h,i},isRTL:function(e){return this.getByPath(e,"rtl",!1)},is:function(e,t){return`Panel${t}Input`===this.getByPath(e,"component",!1)},getValue:function(e){let t=this.getByPath(e,"value","");if(this.$helper.$isEmpty(t)){let n=e.id,i=this.data;t=this.getByPath(i,n,""),this.$helper.$isEmpty(t)&&(t=this.getByPath(e,"default",""))}return t},onInputChange:function(e,t){this.$helper.$isEmpty(t)||(this.$nextTick((()=>{this.rendered?this.prepareIgnoreFields():(this.rendered=!0,this.$emit("rendered"))})),this.values[t]=e,this.$emit("changed",this.$helper.$toNormalObject(this.values)))}}},s=(0,n(9792).Z)(r,i,[],!1,null,null,null);s.options.__file="asset/js/view/component/Form.vue";var l=s.exports}}]);