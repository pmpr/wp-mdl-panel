/*! For license information please see asset_js_view_component_input_Avatar_vue.46kXWoD_l.js.LICENSE.txt */
"use strict";(self.webpackChunkpmpr_wp_mdl_panel=self.webpackChunkpmpr_wp_mdl_panel||[]).push([["asset_js_view_component_input_Avatar_vue"],{4088:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PanelInput",e._b({scopedSlots:e._u([{key:"input",fn:function(t){var i=t.attrs;t.ref;return[n("div",{staticClass:"image-input image-input-outline d-flex"},[n("div",{staticClass:"image-input-wrapper mr-2",style:{backgroundImage:"url("+e.backgroundImage+")"},on:{click:e.onClick}}),e._v(" "),n("div",{staticClass:"d-flex justify-content-end flex-column py-1"},[n("span",{class:"btn btn-success px-5 mb-2"+(e.props.disabled?" disabled":""),attrs:{"data-action":"upload"},on:{click:e.onClick}},[e._v("\n          "+e._s(e.getActionText("upload"))+"\n        ")]),e._v(" "),n("b-form-file",e._b({model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"b-form-file",e.prepareAttrs(i),!1)),e._v(" "),n("span",{class:"btn btn-danger"+(e.preview&&!e.props.disabled?"":" disabled"),on:{click:e.onRemove}},[e._v("\n          "+e._s(e.getActionText("remove"))+"\n        ")])],1)])]}},e.hasSlot("description")?{key:"description",fn:function(){return[e._t("description")]},proxy:!0}:null],null,!0)},"PanelInput",e.props,!1))};i._withStripped=!0;var a={name:"PanelAvatarInput",data:()=>({value:null,preview:null}),props:{props:{},accept:{type:String,default:".png, .jpg, .jpeg"}},watch:{value(){this.$helper.$fileReader(this.value,this.props.limit).then((e=>{this.preview=e,this.$emit("input",e)}))}},beforeMount(){this.preview=this.props.value},computed:{backgroundImage(){return this.preview?this.preview:this.getAsset("img/user-default.jpg",!1)}},methods:{onClick(){this.props.disabled||PRHelper.getHTML().getElement(`input[name="${this.props.name}"]`,!1).click()},onRemove(){this.props.disabled||(this.value=null,this.preview=null)},prepareAttrs:e=>(e.type="file",e.class="d-none",e.value="",e),getActionText(e){return this.translate(`form.input.avatar.action.${e}`)}}},l=(0,n(9792).Z)(a,i,[],!1,null,null,null).exports}}]);